@model DeveloperPortfolioNew.ViewModels.AboutViewModel

@{
  ViewData["Title"] = "About Evan";
  string error = ViewData["ErrorMessage"] as string ?? "";
}

<div class="container pt-0 pb-2">

  <div class="row mb-2 align-items-center">

    <div class="col-lg-4 text-center mb-4 mb-lg-0">
      <img src="~/images/profile2-cropped.jpg" class="img-fluid rounded-circle shadow-lg" alt="Evan Malherbe Profile" style="max-height: 400px; width: 400px; object-fit: cover;" />
    </div>

    <div class="col-lg-8">
      <h1 class="display-5 fw-bold mb-3 text-primary">About Evan</h1>
      <p>@Html.Raw(Model.AboutText)</p>
    </div>
  </div>

  <hr class="my-2 border-primary border-3">

  <div class="row">

    <div class="col-md-6 mb-4">
      <h2 class="fw-bold mb-2 text-secondary"><i class="bi bi-mortarboard-fill me-2"></i>Education</h2>
      @if (Model?.Education == null || Model?.Education.Count == 0)
      {
        <span class="text-danger">@error</span>
      }
      else
      {
        @foreach(var education in Model?.Education)
        {
          <div class="card mb-3 shadow-sm border-1" style="background-color: #80A1BA52">
            <div class="card-body">
              <h5 class="card-title fw-bold">@education.Institution</h5>
              <h6 class="card-subtitle mb-2 text-muted">@education.DegreeCourse</h6>
              <p class="card-text">@education.YearComplete</p>
              @if (education?.Link != null)
              {
                <a href="@education.Link" class="btn btn-sm btn-outline-primary mt-2"><i class="bi bi-download me-1"></i> Download</a>
              }
            </div>
          </div>
        };
      }
     @* <div class="card mb-3 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-bold">HyperionDev</h5>
          <h6 class="card-subtitle mb-2 text-muted">Full Stack Web Developer Bootcamp - 2022</h6>
          <p class="card-text">Intensive training in modern web technologies and development best practices.</p>
          <a href="#" class="btn btn-sm btn-outline-primary mt-2"><i class="bi bi-download me-1"></i> Download Certificate</a>
        </div>
      </div>

      <div class="card mb-3 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-bold">University of South Africa (UNISA)</h5>
          <h6 class="card-subtitle mb-2 text-muted">Degree or Qualification Name - Year</h6>
          <p class="card-text">Relevant details about the qualification.</p>
        </div>
      </div>*@

    </div>

    <div class="col-md-6 mb-4">
      <h2 class="fw-bold mb-2 text-secondary"><i class="bi bi-briefcase-fill me-2"></i>Work Experience</h2>

      @* Use a loop if data is coming from the database (Model.WorkExperiences) *@
      @* Assuming a static example for now *@

      @if (Model?.Work == null || Model?.Work.Count == 0)
      {
        <span class="text-danger">@error</span>
      }
      else
      {
        @foreach (var work in Model?.Work)
        {
          <div class="card mb-3 shadow-sm border-0" style="background-color: #D6E8CCB0">
            <div class="card-body">
              <h5 class="card-title fw-bold">@work.Position</h5>
              <h6 class="card-subtitle mb-2 text-muted">@work.Company | @work.DatesOfEmployment</h6>
              <p class="card-text">@work.Description</p>
            </div>
          </div>
        }
      }

    </div>
  </div>
</div>